(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{494:function(t,e,v){"use strict";v.r(e);var s=v(62),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"webpack-vs-vite"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack-vs-vite"}},[t._v("#")]),t._v(" webpack vs vite")]),t._v(" "),v("h2",{attrs:{id:"热更新原理对比"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#热更新原理对比"}},[t._v("#")]),t._v(" 热更新原理对比")]),t._v(" "),v("h3",{attrs:{id:"webpack的热更新原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack的热更新原理"}},[t._v("#")]),t._v(" webpack的热更新原理")]),t._v(" "),v("ul",[v("li",[t._v("通过"),v("strong",[t._v("webpack-dev-server")]),t._v("创建两个服务器："),v("strong",[t._v("提供静态资源的服务（express）"),v("strong",[t._v("和")]),t._v("Socket服务")])]),t._v(" "),v("li",[t._v("express server 负责直接提供"),v("strong",[t._v("静态资源的服务")]),t._v("（打包后的资源直接被浏览器请求和解析）")]),t._v(" "),v("li",[t._v("socket server 是一个 "),v("strong",[t._v("websocket 的长连接")]),t._v("，双方可以通信")]),t._v(" "),v("li",[t._v("当 "),v("strong",[t._v("socket server 监听")]),t._v("到对应的模块发生变化时，会生成两个文件"),v("code",[t._v(".json（manifest文件）")]),t._v("和"),v("code",[t._v(".js文件（update chunk）")])]),t._v(" "),v("li",[t._v("通过长连接，socket server 可以直接将这两个文件主动发送给"),v("code",[t._v("客户端（浏览器）")])]),t._v(" "),v("li",[t._v("浏览器拿到两个新的文件后，通过"),v("strong",[t._v("HMR runtime机制")]),t._v("，加载这两个文件，并且针对修改的模块进行更新")])]),t._v(" "),v("h3",{attrs:{id:"vite-热更新"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vite-热更新"}},[t._v("#")]),t._v(" vite 热更新")]),t._v(" "),v("p",[t._v("在热模块HMR方面，当修改一个模块的时候，仅需让浏览器重新请求该模块即可，无须像webpack那样需要把该模块的相关依赖模块全部编译一次，效率更高")]),t._v(" "),v("h2",{attrs:{id:"组成"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#组成"}},[t._v("#")]),t._v(" 组成")]),t._v(" "),v("h3",{attrs:{id:"vite组成"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vite组成"}},[t._v("#")]),t._v(" vite组成")]),t._v(" "),v("p",[t._v("主要由两部分组成：")]),t._v(" "),v("ul",[v("li",[t._v("一个开发服务器，它基于 "),v("code",[t._v("原生 ES 模块")]),t._v(" 提供了丰富的内建功能，如速度快到惊人的模块热更新HMR")]),t._v(" "),v("li",[t._v("一套构建指令，它使用 Rollup打包你的代码，并且它是预配置的，可以输出用于生产环境的优化过的静态资源")])])])}),[],!1,null,null,null);e.default=r.exports}}]);