(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{276:function(t,e,s){t.exports=s.p+"assets/img/eventLoop.eda6cf1e.png"},322:function(t,e,s){"use strict";s.r(e);var a=s(13),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"事件循环"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件循环"}},[t._v("#")]),t._v(" 事件循环")]),t._v(" "),e("h2",{attrs:{id:"node中的事件循环"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node中的事件循环"}},[t._v("#")]),t._v(" node中的事件循环")]),t._v(" "),e("p",[t._v("在进程启动时，Node便会创建一个类似于"),e("code",[t._v("while(true)")]),t._v("的循环，每执行一次循环体的过程我们称为Tick。\n每个Tick的过程就是查看是否有事件待处理，如果有，就取出事件及其相关的回调函数。\n如果存在关联的回调函数，就执行它们。")]),t._v(" "),e("h2",{attrs:{id:"异步任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异步任务"}},[t._v("#")]),t._v(" 异步任务")]),t._v(" "),e("h3",{attrs:{id:"微任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微任务"}},[t._v("#")]),t._v(" 微任务")]),t._v(" "),e("p",[t._v("一个需要异步执行的函数，执行时机是在主函数执行结束之后、当前宏任务结束之前")]),t._v(" "),e("p",[t._v("常见的微任务有：")]),t._v(" "),e("ul",[e("li",[t._v("Promise.then")]),t._v(" "),e("li",[t._v("MutaionObserver")]),t._v(" "),e("li",[t._v("Object.observe（已废弃；Proxy 对象替代）")]),t._v(" "),e("li",[t._v("process.nextTick（Node.js）")])]),t._v(" "),e("h3",{attrs:{id:"宏任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#宏任务"}},[t._v("#")]),t._v(" 宏任务")]),t._v(" "),e("p",[t._v("宏任务的时间粒度比较大，执行的时间间隔是不能精确控制的，对一些高实时性的需求就不太符合")]),t._v(" "),e("p",[t._v("常见的宏任务有：")]),t._v(" "),e("ul",[e("li",[t._v("script (可以理解为外层同步代码)")]),t._v(" "),e("li",[t._v("setTimeout/setInterval")]),t._v(" "),e("li",[t._v("UI rendering/UI事件")]),t._v(" "),e("li",[t._v("postMessage、MessageChannel")]),t._v(" "),e("li",[t._v("setImmediate、I/O（Node.js）\nj")])]),t._v(" "),e("h3",{attrs:{id:"执行流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行流程"}},[t._v("#")]),t._v(" 执行流程")]),t._v(" "),e("p",[t._v("执行一个宏任务，如果遇到微任务就将它放到微任务的事件队列中\n当前宏任务执行完成后，会查看微任务的事件队列，然后将里面的所有微任务依次执行完")]),t._v(" "),e("h2",{attrs:{id:"流程图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流程图"}},[t._v("#")]),t._v(" 流程图")]),t._v(" "),e("p",[e("img",{attrs:{src:s(276),alt:""}})])])}),[],!1,null,null,null);e.default=r.exports}}]);