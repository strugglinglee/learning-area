(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{499:function(t,s,e){"use strict";e.r(s);var a=e(62),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"sfc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sfc"}},[t._v("#")]),t._v(" SFC")]),t._v(" "),e("p",[t._v("Vue单文件组件（又名*.vue文件），缩写为SFC，是一种特殊的文件格式。")]),t._v(" "),e("p",[t._v("允许将Vue组件的模板、逻辑与样式封装在单个文件中。")]),t._v(" "),e("p",[t._v("是经典的HTML、CSS、JS三个经典组合的自然延伸。")]),t._v(" "),e("p",[t._v("每个SFC由三种类型的顶层代码块组成：")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("template")]),t._v(": 定义了组件的模板")]),t._v(" "),e("li",[e("strong",[t._v("script")]),t._v(": 标准的js模块，导出一个Vue组件定义作为其默认导出")]),t._v(" "),e("li",[e("strong",[t._v("style")]),t._v(": 定义了与此组件关联的CSS")])]),t._v(" "),e("h2",{attrs:{id:"工作原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#工作原理"}},[t._v("#")]),t._v(" 工作原理")]),t._v(" "),e("p",[t._v("SFC是框架指定的文件格式，必须由 @vue/compiler-sfc 预编译为标准的js与css。")]),t._v(" "),e("p",[t._v("编译后的SFC是一个标准的ES模块，这意味着通过正确的构建配置，可以像模块一样导入SFC。")]),t._v(" "),e("h2",{attrs:{id:"单文件组件-script-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单文件组件-script-setup"}},[t._v("#")]),t._v(" 单文件组件"),e("code",[t._v("<script setup>")])]),t._v(" "),e("p",[t._v("是在SFC中使用组合式API的编译时语法糖")]),t._v(" "),e("h3",{attrs:{id:"优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[t._v("#")]),t._v(" 优点")]),t._v(" "),e("ol",[e("li",[t._v("更少的样板内容，更简洁的代码。")]),t._v(" "),e("li",[t._v("能够使用"),e("strong",[t._v("纯 Typescript 声明 props")]),t._v(" 和"),e("strong",[t._v("抛出事件")]),t._v("。")]),t._v(" "),e("li",[e("strong",[t._v("更好的运行时性能")]),t._v(" (其模板会被编译成与其同一作用域的渲染函数，没有任何的中间代理)。")]),t._v(" "),e("li",[e("strong",[t._v("更好的 IDE 类型推断性能")]),t._v("(减少语言服务器从代码中抽离类型的工作)。")])]),t._v(" "),e("h3",{attrs:{id:"基本语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[t._v("#")]),t._v(" 基本语法")]),t._v(" "),e("p",[t._v("setup中的代码会在每次组建实例被创建时执行，而不是在组件首次被引入时执行一次。")]),t._v(" "),e("h4",{attrs:{id:"顶层的绑定会被暴露给模板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#顶层的绑定会被暴露给模板"}},[t._v("#")]),t._v(" 顶层的绑定会被暴露给模板")]),t._v(" "),e("p",[t._v("任何在 "),e("code",[t._v("<script setup>")]),t._v(" 声明的"),e("strong",[t._v("顶层的绑定")]),t._v(" (包括变量，函数声明，以及 import 引入的内容) 都能在模板中直接使用")]),t._v(" "),e("h4",{attrs:{id:"动态组件的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态组件的使用"}},[t._v("#")]),t._v(" 动态组件的使用")]),t._v(" "),e("p",[t._v("由于组件被引用为变量而不是作为字符串键来注册的，在 "),e("code",[t._v("<script setup>")]),t._v(" 中要使用动态组件的时候，就应该使用动态的 :is 来绑定")]),t._v(" "),e("div",{staticClass:"language-htm extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<script setup>\nimport Foo from './Foo.vue'\nimport Bar from './Bar.vue'\n<\/script>\n\n<template>\n  <component :is=\"Foo\" />\n  <component :is=\"someCondition ? Foo : Bar\" />\n</template>\n\n")])])]),e("h4",{attrs:{id:"命名空间组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命名空间组件"}},[t._v("#")]),t._v(" 命名空间组件")]),t._v(" "),e("p",[t._v("可以使用带点的组件标记，例如 "),e("code",[t._v("<Foo.Bar>")]),t._v(" 来引用嵌套在对象属性中的组件。这在需要从单个文件中导入多个组件的时候非常有用：")]),t._v(" "),e("div",{staticClass:"language-htm extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<script setup>\nimport * as Form from './form-components'\n<\/script>\n\n<template>\n  <Form.Input>\n    <Form.Label>label</Form.Label>\n  </Form.Input>\n</template>\n")])])]),e("h4",{attrs:{id:"使用自定义指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用自定义指令"}},[t._v("#")]),t._v(" 使用自定义指令")]),t._v(" "),e("p",[t._v("必须以 "),e("strong",[t._v("vNameOfDirective")]),t._v(" 的形式来命名本地自定义指令，以使得它们可以直接在模板中使用。")]),t._v(" "),e("div",{staticClass:"language-htm extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<script setup>\nconst vMyDirective = {\n  beforeMount: (el) => {\n    // 在元素上做些操作\n  }\n}\n<\/script>\n<template>\n  <h1 v-my-directive>This is a Heading</h1>\n</template>\n\n")])])]),e("div",{staticClass:"language-htm extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<script setup>\n  // 导入的指令同样能够工作，并且能够通过重命名来使其符合命名规范\n  import { myDirective as vMyDirective } from './MyDirective.js'\n<\/script>\n\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);