(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{386:function(n,e,a){"use strict";a.r(e);var t=a(13),s=Object(t.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h2",{attrs:{id:"代码分离"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码分离"}},[n._v("#")]),n._v(" "),e("a",{attrs:{href:"https://www.webpackjs.com/guides/code-splitting/",target:"_blank",rel:"noopener noreferrer"}},[n._v("代码分离"),e("OutboundLink")],1)]),n._v(" "),e("p",[n._v("能够将代码分离到不同的 bundle 中，可以按需加载或者并行加载这些文件。\n代码分离可以用于获取更小的 bundle，以及控制资源加载优先级，使用合理可以极大影响加载时间")]),n._v(" "),e("h3",{attrs:{id:"代码分离的方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码分离的方法"}},[n._v("#")]),n._v(" 代码分离的方法")]),n._v(" "),e("ul",[e("li",[n._v("入口起点：使用"),e("code",[n._v("entry")]),n._v("配置手动地分离代码")]),n._v(" "),e("li",[n._v("防止重复：使用"),e("code",[n._v("CommonsChunkPlugin")]),n._v("去重和分离 chunk")]),n._v(" "),e("li",[n._v("动态导入：通过模块的内联函数调用来分离代码")])]),n._v(" "),e("h3",{attrs:{id:"commonschunkplugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commonschunkplugin"}},[n._v("#")]),n._v(" CommonsChunkPlugin")]),n._v(" "),e("p",[e("code",[n._v("CommonsChunkPlugin")]),n._v("插件可以将公共的依赖模块提取到已有的入口 chunk 中，或者提取到一个新生成的 chunk。")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("new webpack.optimize.CommonsChunkPlugin({\n  name: 'common' // 指定公共 bundle 的名称。\n})\n")])])]),e("p",[n._v("webpack4 移除了 CommonsChunkPlugin，所以需要作相应的修改")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("//optimization与entry/plugins同级\noptimization: {\n   runtimeChunk: {\n      name: 'manifest'\n   },\n   splitChunks: {\n      maxInitialRequests: 10,\n      cacheGroups: {\n         common: {\n            name: 'common',\n            //chunks: 'all'\n         }\n      }\n   }\n}\n")])])]),e("h4",{attrs:{id:"一些对于代码分离很有帮助的插件和-loaders"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一些对于代码分离很有帮助的插件和-loaders"}},[n._v("#")]),n._v(" 一些对于代码分离很有帮助的插件和 loaders")]),n._v(" "),e("ul",[e("li",[e("code",[n._v("ExtractTextPlugin")]),n._v(": 用于将 CSS 从主应用程序中分离。")]),n._v(" "),e("li",[e("code",[n._v("bundle-loader")]),n._v(": 用于分离代码和延迟加载生成的 bundle。")]),n._v(" "),e("li",[e("code",[n._v("promise-loader")]),n._v(": 类似于 bundle-loader ，但是使用的是 promises。")])]),n._v(" "),e("h3",{attrs:{id:"动态导入-dynamic-imports"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态导入-dynamic-imports"}},[n._v("#")]),n._v(" 动态导入（dynamic imports）")]),n._v(" "),e("ul",[e("li",[n._v("使用符合 ECMAScript 提案 的 import() 语法 (优先选择)")]),n._v(" "),e("li",[n._v("使用 webpack 特定的 require.ensure")])]),n._v(" "),e("h3",{attrs:{id:"bundle分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bundle分析"}},[n._v("#")]),n._v(" bundle分析")]),n._v(" "),e("ul",[e("li",[e("code",[n._v("webpack-chart")]),n._v(": webpack 数据交互饼图。")]),n._v(" "),e("li",[e("code",[n._v("webpack-visualizer")]),n._v(": 可视化并分析你的 bundle，检查哪些模块占用空间，哪些可能是重复使用的。")]),n._v(" "),e("li",[e("code",[n._v("webpack-bundle-analyzer")]),n._v(": 一款分析 bundle 内容的插件及 CLI 工具，以便捷的、交互式、可缩放的树状图形式展现给用户。")])])])}),[],!1,null,null,null);e.default=s.exports}}]);