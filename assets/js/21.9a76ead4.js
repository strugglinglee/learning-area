(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{461:function(t,i,e){"use strict";e.r(i);var s=e(65),a=Object(s.a)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("a",{attrs:{href:"'https://zhuanlan.zhihu.com/p/182553920'"}},[t._v("参考文档")])]),t._v(" "),e("h2",{attrs:{id:"msg格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#msg格式"}},[t._v("#")]),t._v(" msg格式：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<type>(<scope>): <subject>\n")])])]),e("h3",{attrs:{id:"type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[t._v("#")]),t._v(" type:")]),t._v(" "),e("ul",[e("li",[t._v("feat：新功能（feature）。")]),t._v(" "),e("li",[t._v("fix/to：修复bug，可以是QA发现的BUG，也可以是研发自己发现的BUG。")]),t._v(" "),e("li",[t._v("fix：产生diff并自动修复此问题。适合于一次提交直接修复问题")]),t._v(" "),e("li",[t._v("to：只产生diff不自动修复此问题。适合于多次提交。最终修复问题提交时使用fix")]),t._v(" "),e("li",[t._v("docs：文档（documentation）。")]),t._v(" "),e("li",[t._v("style：格式（不影响代码运行的变动）。")]),t._v(" "),e("li",[t._v("refactor：重构（即不是新增功能，也不是修改bug的代码变动）。")]),t._v(" "),e("li",[t._v("perf：优化相关，比如提升性能、体验。")]),t._v(" "),e("li",[t._v("test：增加测试。")]),t._v(" "),e("li",[t._v("chore：构建过程或辅助工具的变动。")]),t._v(" "),e("li",[t._v("revert：回滚到上一个版本。")]),t._v(" "),e("li",[t._v("merge：代码合并。")]),t._v(" "),e("li",[t._v("sync：同步主线或分支的Bug。")])]),t._v(" "),e("h3",{attrs:{id:"scope-可选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scope-可选"}},[t._v("#")]),t._v(" scope(可选)")]),t._v(" "),e("p",[t._v("scope用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。")]),t._v(" "),e("p",[t._v("例如在Angular，可以是location，browser，compile，compile，rootScope， ngHref，ngClick，ngView等。如果你的修改影响了不止一个scope，你可以使用*代替。")]),t._v(" "),e("h3",{attrs:{id:"subject-必须"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#subject-必须"}},[t._v("#")]),t._v(" subject(必须)")]),t._v(" "),e("p",[t._v("subject是commit目的的简短描述，不超过50个字符。")]),t._v(" "),e("p",[t._v("建议使用中文（感觉中国人用中文描述问题能更清楚一些）。")]),t._v(" "),e("p",[t._v("结尾不加句号或其他标点符号。\n根据以上规范git commit message将是如下的格式：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("fix(DAO):用户查询缺少username属性\nfeat(Controller):用户查询接口开发\n")])])]),e("h3",{attrs:{id:"规范git-commit到底有哪些好处呢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规范git-commit到底有哪些好处呢"}},[t._v("#")]),t._v(" 规范git commit到底有哪些好处呢？")]),t._v(" "),e("ul",[e("li",[t._v("对提交历史进行追溯，了解发生了什么情况。")]),t._v(" "),e("li",[t._v("一旦约束了commit message，意味着我们将慎重的进行每一次提交，不能再一股脑的把各种各样的改动都放在一个git commit里面，这样一来整个代码改动的历史也将更加清晰。")]),t._v(" "),e("li",[t._v("格式化的commit message才可以用于自动化输出Change log。")])]),t._v(" "),e("h3",{attrs:{id:"git-hooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks"}},[t._v("#")]),t._v(" git hooks")]),t._v(" "),e("p",[t._v("分为客户端hook和服务端hook。")]),t._v(" "),e("ul",[e("li",[t._v("客户端hook又分为pre-commit、prepare-commit-msg、commit-msg、post-commit等，主要用于控制客户端git的提交工作流。用户可以在项目根目录的.git目录下面配置使用，也可以配置全局git template用于个人pc上的所有git项目使用。")]),t._v(" "),e("li",[t._v("服务端hook又分为pre-receive、post-receive、update，主要在服务端接受提交对象时进行调用。")])]),t._v(" "),e("h3",{attrs:{id:"git-commit-提交规范之eslint规范校验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-提交规范之eslint规范校验"}},[t._v("#")]),t._v(" git commit 提交规范之ESlint规范校验")]),t._v(" "),e("p",[t._v("prettier 用来优化代码格式，比如缩进、空格、分号等等\nhusky可以用于实现各种 Git Hook。这里主要用到 pre-commit这个 hook，在执行 commit 之前，运行一些自定义操作\nlint-staged 用于对 Git 暂存区中的文件执行代码检测")]),t._v(" "),e("p",[t._v("-> git add 添加到暂存区\n-> 执行 git commit\n-> husky注册在git pre-commit的钩子调起 lint-staged\n-> lint-staged 取得所有被提交的文件依次执行写好的任务（ESLint 和 Prettier）\n-> 如果有错误（没通过ESlint检查）则停止任务，等待下次commit，同时打印错误信息\n-> 成功提交")]),t._v(" "),e("p",[t._v("husky 主用功能是为 git 添加 git 钩子，它允许我们在使用 git 中在一些重要动作发生时触发自定义脚本(npm script), 比如我们可以在 git push 之前执行特定的自定义脚本对代码进行单元测试、又或者在 git commit 之前执行 eslint 校验，当然本文主要介绍如何借用 husky 为 git 添加 commit-msg 钩子并对 commit 进行校验。")]),t._v(" "),e("p",[t._v("commitlint 用于检查您的提交消息是否符合规定提交格式，一般和 husky 包一起使用，用于对 git commit 信息的格式进行校验，当 commit 信息不符合规定格式的情况下将会抛出错误。")])])}),[],!1,null,null,null);i.default=a.exports}}]);